<template>
    <lightning-layout multiple-rows>
        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP Product Combobox -->
                <lightning-combobox 
                    label="VAP Product" 
                    name="VAP_Product__c"
                    value={vapRec.VAP_Product__c} 
                    options={VAPProduct}
                    required=true
                    data-field="validation"
                    disabled={isDisabled}
                >
                </lightning-combobox>
            </div>                            
        </lightning-layout-item>

        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <lightning-input type="text" label="Applicant Name" name="Applicant_Name__c" data-field="validation"
                    value={vapRec.Applicant_Name__c} disabled></lightning-input>
            </div>
        </lightning-layout-item>
    

        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
            large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP Product Combobox -->
                <lightning-combobox 
                    label="VAP Category" 
                    name="VAP__c"
                    value={vapRec.VAP_Category__c} 
                    options={VAPCategory}
                    required=true
                    data-field="validation"
                    disabled={isDisabled}
                >
                </lightning-combobox>
            </div>                            
        </lightning-layout-item>


        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
            large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP Product Combobox -->
                <lightning-combobox 
                    label="VAP Type" 
                    name="VAP__c"
                    value={vapRec.VAP_Type__c} 
                    options={VAPType}
                    required=true
                    data-field="validation"
                    disabled={isDisabled}
                >
                </lightning-combobox>
            </div>                            
        </lightning-layout-item>

        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
            large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP Product Combobox -->
                <lightning-combobox 
                    label=" VAP Treatment" 
                    name="VAP__c"
                    value={vapRec.VAP_Treatment__c} 
                    options={VAPTreatment}
                    required=true
                    data-field="validation"
                    disabled={isDisabled}
                >
                </lightning-combobox>
            </div>                            
        </lightning-layout-item>


        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
            large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP_Policy_Amount__c -->
                    <lightning-input 
                    type="number" 
                    label="VAP Policy Amount " 
                    name="VAP_Policy_Amount__c"
                    value={vapRec.VAP_Policy_Amount__c}
                    onchange={handleChange}
                    required
                    data-field="validation"
                    min="1"
                    message-when-range-underflow="Negative value & Zero are not allowed."
                    max="9999999999"
                    disabled={isDisabled}
                    >
                </lightning-input>
            </div>                   
                                    
        </lightning-layout-item>


        <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
            large-device-size="6" class="slds-p-horizontal_x-small">
            <div>
                <!-- VAP_Policy_Amount__c -->
                <lightning-input 
                    type="number" 
                    label="VAP Amount " 
                    name="VAP_Amount__c"
                    value={vapRec.VAP_Amount__c}
                    onchange={handleChange}
                    required
                    data-field="validation"
                    min="1"
                    message-when-range-underflow="Negative value & Zero are not allowed."
                    max="9999999999"
                    disabled={isDisabled}
                >
                </lightning-input>
            </div>                   
                                    
        </lightning-layout-item>
                


            <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                    large-device-size="6" class="slds-p-horizontal_x-small">
                <div>
                    <lightning-input 
                        type="number" 
                        label="Differential Amount " 
                        value={differentialAmount}
                        disabled
                        data-field="validation"
                    >
                </lightning-input>
                </div>                        
                                        
            </lightning-layout-item>
        

                <!-- Bought_From__c -->
            <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                large-device-size="6" class="slds-p-horizontal_x-small">
                <div>
                    <lightning-input 
                        type="text" 
                        label="Bought From" 
                        name="Bought_From__c"
                        value={vapRec.Bought_From__c}
                        onchange={handleChange}
                        required
                        data-field="validation"
                        disabled={isDisabled}
                        >
                    </lightning-input>
                </div>
            </lightning-layout-item>


                
                <!-- Disburse_To__c -->
            <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                    <!-- VAP Product Combobox -->
                    <lightning-combobox 
                    label="Disburse To" 
                    name="Disburse_To__c"
                    value={vapRec.Disburse_To__c} 
                    options={DisburseTo}
                    onchange={handleChange}
                    required
                    data-field="validation"
                    disabled={isDisabled}
                    >
                    </lightning-combobox>

                </div>                            
            </lightning-layout-item>



                <!-- Policy_Number__c -->
            <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                large-device-size="6" class="slds-p-horizontal_x-small">
                <div>
                    <lightning-input 
                        type="number" 
                        label="Policy Number" 
                        name="Policy_Number__c"
                        value={vapRec.Policy_Number__c}
                        onchange={handleChange}
                        data-field="validation"
                        disabled={isDisabled}
                        >
                    </lightning-input>
                </div>
            </lightning-layout-item>

                <!-- Insurance_Term_in_Years__c -->
            <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                large-device-size="6" class="slds-p-horizontal_x-small">
                <div>
                    <lightning-input 
                        type="number" 
                        label="Insurance Term (Years)" 
                        name="Insurance_Term_in_Years__c"
                        value={vapRec.Insurance_Term_in_Years__c}
                        onchange={handleChange}
                        min="1"
                        data-field="validation"
                        message-when-range-underflow="Not Allow 0 Or Less Then 0"
                        max="99"
                        message-when-range-overflow="2 Digit Value is Allow."
                        disabled={isDisabled}
                        >
                    </lightning-input>
                </div>
            </lightning-layout-item>

                <!-- Insurance_Term_in_Months__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="number" 
                            label="Insurance Term (Months)" 
                            name="Insurance_Term_in_Months__c"
                            value={vapRec.Insurance_Term_in_Months__c}
                            onchange={handleChange}
                            min="1"
                            data-field="validation"
                            message-when-range-underflow="Not Allow 0 Or Less Then 0"
                            max="99"
                            message-when-range-overflow="2 Digit Value is Allow."
                            disabled={isDisabled}
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Start_Date__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="date" 
                            label="Start Date" 
                            name="Start_Date__c"
                            value={vapRec.Start_Date__c}
                            onchange={handleChange}
                            data-field="validation"
                            disabled={isDisabled}
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Maturity_Date__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="date" 
                            label="Maturity Date" 
                            name="Maturity_Date__c"
                            value={vapRec.Maturity_Date__c}
                            onchange={handleChange}
                            data-field="validation"
                            disabled={isDisabled}
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Coverage_Type__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="text" 
                            label="Coverage Type" 
                            name="Coverage_Type__c"
                            value={vapRec.Coverage_Type__c}
                            onchange={handleChange}
                            required
                            data-field="validation"
                            disabled={isDisabled}
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Coverage_Amount__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="number" 
                            label="Coverage Amount (₹)" 
                            name="Coverage_Amount__c"
                            value={vapRec.Coverage_Amount__c}
                            onchange={handleChange}
                            min="1"
                            disabled
                            data-field="validation"
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Premium_Amount__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">
                    <div>
                        <lightning-input 
                            type="number" 
                            label="Premium Amount (₹)" 
                            name="Premium_Amount__c"
                            value={vapRec.Premium_Amount__c}
                            onchange={handleChange}
                            min="1"
                            disabled
                            data-field="validation"
                            >
                        </lightning-input>
                    </div>
                </lightning-layout-item>

                <!-- Insured__c -->
                <lightning-layout-item size="12" small-device-size="6" medium-device-size="4"
                                    large-device-size="6" class="slds-p-horizontal_x-small">                                        
                    <div>
                        <lightning-combobox 
                            label="Insured" 
                            name="Insured__c"
                            value={vapRec.Insured__c} 
                            options={applicantsOption}
                            onchange={handleChange}
                            data-field="validation"
                            disabled={isDisabled}
                            >
                        </lightning-combobox>

                        </div>                        
                </lightning-layout-item>

            </lightning-layout>




        <!--Nominee Details-->
        <template if:true={showNomineeDetails}>
            <div class="section">Nominee Details</div>

            <template for:each={nominees} for:item="nominee" for:index="index">
                <div key={nominee.Id} class="slds-box slds-m-bottom_medium">

                    <div class="slds-text-title_bold">
                        Nominee {nominee.Sequence__c}
                    </div>

                    <lightning-layout multiple-rows>

                        <lightning-layout-item size="6">
                            <lightning-input
                                label="Nominee Name"
                                value={nominee.Nominee_Name__c}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="6">
                            <lightning-input
                                label="Relationship"
                                value={nominee.Nominee_Relationship__c}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="6">
                            <lightning-input
                                type="date"
                                label="Date of Birth"
                                value={nominee.Nominee_Date_of_Birth__c}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="6">
                            <lightning-input
                                label="Gender"
                                value={nominee.Nominee_Gender__c}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="6">
                            <lightning-input
                                label="Is Minor?"
                                value={nominee.isMinorText}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="6">
                            <lightning-input
                                type="number"
                                label="Percentage of Entitlement"
                                value={nominee.Percentage_of_Entitlement__c}
                                disabled>
                            </lightning-input>
                        </lightning-layout-item>

                        <lightning-layout-item size="12">
                            <lightning-textarea
                                label="Address"
                                value={nominee.Nominee_Address__c}
                                disabled>
                            </lightning-textarea>
                        </lightning-layout-item>

                    </lightning-layout>
                </div>
            </template>
        </template>


        <div align="center" style="margin-top:1rem;" if:false={isDisabled}>
            <button class="slds-button slds-button_neutral" onclick={handleCancel}>Cancel</button>
            <button class="slds-button slds-button_brand" onclick={handleSave}>Save</button>
        </div>
</template>